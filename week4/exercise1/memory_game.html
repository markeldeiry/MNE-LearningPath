<html>
<head>
	<title>Memory Game</title>
	<style>
		li {
			/*height: 100px;*/
			width: 100px;
			border: 1px black solid;
			margin: 2px;
			list-style: none;
			float: left;
			text-align: center;
			padding: 50px 0px;
			color: white;

		}
		ul {
			width: 450px;
			margin: 0 auto 0 auto;

		}
		li.flipped {
			color: black;
		}
	</style>
	<script type="text/javascript">
		window.addEventListener('load', game);
		function game() {
			var elements = document.getElementsByTagName('li'),
					firstCardText = false,
					secondCardText = false,
					firstCard = false,
					secondCard = false;
			for (var i=0;i<elements.length;i++) {
				elements[i].addEventListener('click', function(e) {
					e.target.classList.add('flipped');

					if (!firstCardText) {
						firstCardText = e.target.innerText;
						firstCard = e.target;
					}else if (!secondCardText) {
						secondCardText = e.target.innerText;
						secondCard = e.target;
					}
					console.log(firstCardText, secondCardText);

					if (firstCardText !== false && secondCardText !== false) {
						if (firstCardText === secondCardText) {
							//we have a match
							//TODO: prevent clicking a matched card
							firstCardText = false;
							secondCardText = false;
							firstCard = false;
							secondCard = false;
							console.log('match');
							}else {
							//we do NOT have a match
							//setTimeout
							console.log('NO match');
							var elementsFlipped = [firstCard, secondCard];
							window.setTimeout(function () {
								for (var i = 0; i < elementsFlipped.length; i++) {
									elementsFlipped[i].classList.toggle('flipped');
								}
							},1500);
							firstCardText = false;
							secondCardText = false;
							firstCard = false;
							secondCard = false;
						}
					}

				}, false);

			}
		}
	</script>
</head>
<body>
	<ul>
		<li>blue</li>
		<li>red</li>
		<li>orange</li>
		<li>yellow</li>
		<li>green</li>
		<li>purple</li>
		<li>blue</li>
		<li>red</li>
		<li>orange</li>
		<li>yellow</li>
		<li>green</li>
		<li>purple</li>
	</ul>
</body>
</html>